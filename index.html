<!doctype html>
<html lang="de">
  <head>
  <script>window.__API_BASE="%VITE_API_BASE%";window.__REMOTE_SYNC="%VITE_REMOTE_SYNC%";</script>
<script>
(function(){
  var API_BASE=(window.__API_BASE||"").trim();
  var REMOTE_SYNC=String(window.__REMOTE_SYNC||"0");
  function toApiUrl(u){return API_BASE?API_BASE+(u[0]==='/'?u:'/'+u):u}
  function isApi(u){return typeof u==='string'&&(u.startsWith('/api')||u.startsWith('/uploads'))}
  function isTours2(u){return typeof u==='string'&&u.indexOf('/api/tours2')>=0}
  function isNom(u){return typeof u==='string'&&u.indexOf('nominatim.openstreetmap.org')>=0}

  if(typeof window!=='undefined'&&typeof window.fetch==='function'){
    var _fetch=window.fetch.bind(window);
    window.fetch=function(input,init){
      init=init||{};
      var url=(typeof input==='string')?input:(input&&input.url)||'';
      if(REMOTE_SYNC==='0'&&isTours2(url)){
        return Promise.resolve(new Response('{}',{status:200,headers:{'Content-Type':'application/json'}}));
      }
      if(API_BASE&&isNom(url)){
        try{var u=new URL(url);var q=u.searchParams.get('q')||'';var prox=API_BASE+'/api/geocode?q='+encodeURIComponent(q);return _fetch(prox,{credentials:'include'})}catch(_){}
      }
      if(API_BASE&&isApi(url)){
        var target=toApiUrl(url);
        return _fetch(target,Object.assign({},init,{credentials:'include'}));
      }
      if(init&&init.credentials==='include'){
        var clean=Object.assign({},init);delete clean.credentials;
        return _fetch((typeof input==='string')?input:(input&&input.url)||'',clean);
      }
      if(typeof input!=='string') return _fetch(url,init);
      return _fetch(input,init);
    };
  }

  if(typeof window!=='undefined'&&window.XMLHttpRequest){
    var oOpen=XMLHttpRequest.prototype.open;
    var oSend=XMLHttpRequest.prototype.send;
    XMLHttpRequest.prototype.open=function(method,url,async,user,password){
      try{
        var u=String(url||'');
        if(REMOTE_SYNC==='0'&&isTours2(u)) this.__navio_forceEmpty=true;
        if(API_BASE&&isApi(u)){u=toApiUrl(u);this.withCredentials=true}
        if(API_BASE&&isNom(u)){
          try{var oo=new URL(u);var q=oo.searchParams.get('q')||'';u=API_BASE+'/api/geocode?q='+encodeURIComponent(q);this.withCredentials=true}catch(_){}
        }
        return oOpen.call(this,method,u,async,user,password);
      }catch(_){return oOpen.call(this,method,url,async,user,password)}
    };
    XMLHttpRequest.prototype.send=function(body){
      if(this.__navio_forceEmpty){
        delete this.__navio_forceEmpty;
        var self=this;setTimeout(function(){
          Object.defineProperty(self,'readyState',{value:4});
          Object.defineProperty(self,'status',{value:200});
          Object.defineProperty(self,'responseText',{value:'{}'});
          if(typeof self.onreadystatechange==='function') self.onreadystatechange();
          if(typeof self.onload==='function') self.onload();
        },0);return;
      }
      return oSend.call(this,body);
    };
  }
})();
</script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Navio AI</title>
    <link rel="icon" href="/brand/navio_ai_favicon.svg" type="image/svg+xml" />
<link rel="apple-touch-icon" sizes="180x180" href="/brand/apple-touch-icon-180.png" />
<link rel="manifest" href="/brand/site.webmanifest" />
<meta name="theme-color" content="#0F172A" />

  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
